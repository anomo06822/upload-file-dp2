# 功能展示與演示

## 功能概覽

DataPreview 組件現在提供了強大的數據探索和分析功能：

### 🔍 智能字段分析
自動分析 JSON 數據結構，識別字段類型和統計特徵

### 🎯 動態數據篩選
基於字段類型提供相應的篩選控件，支持複雜的篩選組合

### 📊 靈活分組功能
按任意字段分組查看數據，並顯示統計信息

### 📄 增強的表格視圖
響應式設計，支持分頁、排序和字段控制

---

## 演示場景

### 場景 1: HR 數據分析

**需求**: 查找台北地區技術部的活躍員工，薪資在 50000 以上

**操作步驟**:

1. **載入數據**
   ```json
   使用 sample-data-employees.json
   ```

2. **設置篩選條件**
   - `city`: 輸入「台北」
   - `department`: 輸入「技術部」
   - `active`: 選擇「是 (true)」
   - `salary`: 最小值設為 50000

3. **查看結果**
   - 篩選後顯示符合條件的員工
   - 可進一步按 `salary` 排序（通過分組查看）

4. **按薪資分組**
   - 選擇「分組依據」→ `salary`
   - 查看不同薪資級別的員工分布

**預期結果**:
```
找到 4 筆記錄符合條件：
- 張三 (台北, 技術部, 50000, 活躍)
- 王五已被排除 (不活躍)
- 錢七已被排除 (台南)
...
```

---

### 場景 2: 年齡分布分析

**需求**: 分析不同年齡段的員工分布

**操作步驟**:

1. **設置年齡範圍篩選**
   - 25-30 歲: `age` 最小值 25，最大值 30
   - 查看該年齡段的員工數量

2. **按部門分組**
   - 「分組依據」→ `department`
   - 查看各部門在該年齡段的人數

3. **調整年齡範圍**
   - 嘗試不同的年齡範圍
   - 觀察分組結果的變化

**洞察**:
- 快速了解不同年齡段的員工分布
- 識別人員結構的特點
- 為招聘決策提供數據支持

---

### 場景 3: 地理分布分析

**需求**: 了解員工的地理分布情況

**操作步驟**:

1. **按城市分組**
   - 不設置任何篩選
   - 「分組依據」→ `city`

2. **查看各城市統計**
   - 台北: X 人
   - 台中: Y 人
   - 台南: Z 人
   - 高雄: W 人

3. **深入分析特定城市**
   - 設置 `city` 篩選為「台北」
   - 再按 `department` 分組
   - 查看台北各部門的人員分布

**應用**:
- 了解地域人力資源分布
- 優化辦公室資源配置
- 規劃區域性活動

---

### 場景 4: 薪資分析

**需求**: 分析薪資結構和分布

**操作步驟**:

1. **高薪員工**
   - `salary`: 最小值 60000
   - 查看高薪員工的特徵

2. **按部門查看薪資**
   - 設置薪資篩選（可選）
   - 「分組依據」→ `department`
   - 比較各部門的人數

3. **新進員工薪資**
   - `joinDate`: 輸入「2023」（搜索 2023 年入職）
   - 查看新進員工的薪資水平

**分析維度**:
- 薪資範圍分布
- 部門間薪資差異
- 年資與薪資關係

---

## UI 互動展示

### 篩選面板互動

#### 1. 開啟篩選面板
```
[篩選] 按鈕 → 面板展開
```
- 顯示所有字段
- 每個字段顯示類型和唯一值數量
- 提供相應的篩選控件

#### 2. 設置篩選條件
```
選擇字段 → 輸入/選擇條件 → 即時更新結果
```
- 即時反饋，無需點擊「應用」按鈕
- 篩選的字段高亮顯示
- 顯示當前匹配的記錄數

#### 3. 管理篩選
```
查看活躍篩選 → 移除單一篩選 → 清除所有篩選
```
- 篩選徽章顯示當前條件
- 快速移除不需要的篩選
- 一鍵重置所有篩選

### 分組視圖互動

#### 1. 選擇分組字段
```
「分組依據」下拉框 → 選擇字段 → 查看分組結果
```
- 數據自動按選定字段分組
- 顯示每組的記錄數量
- 保持當前的篩選條件

#### 2. 展開/收起分組
```
點擊分組標題 → 展開/收起內容
```
- 默認所有分組展開
- 可單獨控制每個分組
- 節省螢幕空間

#### 3. 清除分組
```
點擊「清除分組」→ 返回列表視圖
```
- 保持篩選條件
- 恢復分頁功能

---

## 視覺元素說明

### 1. 篩選狀態指示

**篩選按鈕徽章**
```
[篩選 (3)]  ← 數字表示活躍的篩選數量
```

**字段卡片高亮**
```
┌─────────────────────────┐
│ ● age                    │  ← 藍色邊框表示已篩選
│   number | 8 個唯一值    │
│   [25] - [30]            │
└─────────────────────────┘
```

**活躍篩選徽章**
```
[age: 25 ~ 30 ×] [department: 技術部 ×] [active: 是 ×]
```

### 2. 數據統計顯示

**篩選面板標題**
```
數據篩選                    8 / 12 筆記錄
         ↑ 篩選後數量  ↑ 總數
```

**表格底部信息**
```
總計 8 行 × 5 列  (已篩選自 12 行)
```

**分頁信息**
```
顯示第 1 - 8 行，共 8 行  (已篩選，總計 12 行)
```

### 3. 字段信息展示

**字段卡片**
```
┌─────────────────────────┐
│ salary               ×  │ ← 移除篩選按鈕
│ number | 10 個唯一值     │ ← 類型和統計
│ 範圍: 45000 ~ 75000     │ ← 數值範圍
│ [____] - [____]         │ ← 篩選控件
└─────────────────────────┘
```

---

## 鍵盤快捷鍵建議

雖然目前未實現，但建議未來添加：

- `Ctrl/Cmd + F`: 開啟/關閉篩選面板
- `Ctrl/Cmd + K`: 清除所有篩選
- `Escape`: 關閉篩選面板
- `Tab`: 在篩選欄位間切換

---

## 最佳實踐

### 1. 探索性數據分析流程
```
1. 先查看整體數據
   ↓
2. 識別關鍵字段和類型
   ↓
3. 設置初步篩選條件
   ↓
4. 按相關字段分組
   ↓
5. 調整篩選條件深入分析
   ↓
6. 得出結論
```

### 2. 效能優化建議
- 先篩選再分組（減少分組的數據量）
- 隱藏不需要的欄位（提升渲染速度）
- 使用分頁瀏覽大量結果
- 定期清除不需要的篩選

### 3. 常見分析模式

**模式 1: 漏斗分析**
```
全部數據 → 基礎篩選 → 進階篩選 → 最終結果
```

**模式 2: 分層分析**
```
設置篩選 → 按字段 A 分組 → 觀察分布 → 調整篩選
```

**模式 3: 對比分析**
```
篩選條件 A → 記錄結果 → 修改為條件 B → 對比
```

---

## 實際應用案例

### 案例 1: 人力資源管理
- **目標**: 了解員工結構，支持招聘決策
- **篩選**: 部門、地點、年資
- **分組**: 年齡段、薪資級別
- **洞察**: 識別人力缺口

### 案例 2: 銷售數據分析
- **目標**: 分析銷售表現
- **篩選**: 時間範圍、產品類別、地區
- **分組**: 銷售人員、產品
- **洞察**: 識別高績效模式

### 案例 3: 庫存管理
- **目標**: 優化庫存水平
- **篩選**: 庫存量範圍、類別
- **分組**: 倉庫、供應商
- **洞察**: 識別缺貨風險

### 案例 4: 客戶分析
- **目標**: 了解客戶特徵
- **篩選**: 購買頻率、金額範圍
- **分組**: 地區、年齡段
- **洞察**: 識別核心客群

---

## 進階技巧

### 技巧 1: 快速數值範圍探索
1. 查看字段的 min/max 範圍
2. 使用四分位數作為篩選基準
3. 逐步縮小範圍直到找到關鍵數據

### 技巧 2: 組合篩選模式識別
1. 設置主要篩選條件
2. 按關聯字段分組
3. 觀察哪些組合出現頻率高
4. 形成模式假設

### 技巧 3: 異常值檢測
1. 設置極端範圍篩選
2. 查看是否有記錄
3. 驗證數據質量
4. 排除或修正異常值

---

## 總結

新的篩選和分組功能為 DataPreview 組件帶來了：

✅ **更強的數據探索能力** - 快速找到需要的數據
✅ **更好的用戶體驗** - 直觀的 UI，即時反饋
✅ **更高的分析效率** - 減少手動篩選的時間
✅ **更靈活的應用場景** - 適應各種數據分析需求

現在就開始探索你的數據吧！🚀
